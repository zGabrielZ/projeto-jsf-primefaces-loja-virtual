<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:o="http://omnifaces.org/ui" >
	
	<f:metadata>
		<f:viewParam id="codigo" name="codigo" value="#{categoriaController.categoria.id}"/>
		<f:event listener="#{categoriaController.carregar}" type="preRenderView"></f:event>
	</f:metadata>

	<ui:composition template="/layout/cadastro/Cadastrar.xhtml" >
	
	<ui:define name="titulo">
			<h1>Cadastro de categoria</h1>
		
			<div id="btnVoltar" style="margin-bottom:10px; margin-top: 10px;" >
				<h:form id="frmBtnConsultaCliente">
					<p:commandButton value="Ir para consulta de categorias"
					actionListener="#{navegacaoController.consultaCategoria}" ajax="false" />
				</h:form>
			</div>
		
		</ui:define>
		
		<ui:define name="conteudo" >

		<div id="cadastroCategoria">
		
			<o:form id="cadastroCategoriaForm" includeRequestParams="true"
			 acceptcharset="UTF-8">
			
			<p:messages id="msg" autoUpdate="true"/>
			
				<div align="center">
					<h:panelGroup id="pnlCadastroCategoria">
					
						<p:inputText id="codigo" value="#{categoriaController.categoria.id}"
							label="Código" type="hidden"></p:inputText>
					
						<h:panelGrid columns="3" style="text-align: center">
							<p:outputLabel for="nome" value="Nome: " />
							<p:inputText value="#{categoriaController.categoria.nome}"
								label="Nome" id="nome" required="true" 
								requiredMessage="Nome é obrigatório" size="15" maxlength="150" />
							<p:message for="nome" />
							
						</h:panelGrid>

						<div align="center" style="padding-top: 10px;">
							<p:commandButton id="btnCadastrar" value="Cadastrar Categoria"
								action="#{categoriaController.inserirOuAtualizarCategoria}"
								ajax="false" process="@this" update="@form"></p:commandButton>
						</div>

						<div align="center" style="padding-top: 10px;">
							<p:commandButton id="btnLimpar" value="Limpar formulário"
								immediate="true" action="#{categoriaController.limparFormularioCategoriaCadastro}"
								ajax="false" process="@this" update="@form"></p:commandButton>
						</div>

					</h:panelGroup>
				</div>
			</o:form>
		</div>
				
	</ui:define>
	
	</ui:composition>
</html>